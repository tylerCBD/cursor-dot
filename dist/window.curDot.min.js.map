{"version":3,"sources":["../index.js","window.curDot.js"],"names":["$$","s","Array","prototype","slice","call","document","querySelectorAll","isEl","obj","HTMLElement","isStr","Object","toString","cursorDot","zIndex","diameter","borderWidth","borderColor","easing","background","blendMode","inited","alt","x","y","o","d","cur","dot","createElement","tim","style","addEventListener","e","clientX","clientY","opacity","body","append","draw","dX","dY","t3d","webkitTransform","transform","dO","dD","height","width","requestAnimationFrame","_","setImmediate","over","any","fn","el","backgroundColor","scale","setProperty","forEach","module","exports","window","curDot"],"mappings":"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","file":"window.curDot.min.js","sourceRoot":"","sourcesContent":["const $$ = s =>\n  Array.prototype.slice.call(\n    document.querySelectorAll(s)\n  )\nconst isEl = obj => obj instanceof HTMLElement\nconst isStr = obj => Object.prototype.toString.call(obj) === '[object String]'\n\nconst cursorDot = ({\n  zIndex = 1,\n  diameter = 80,\n  borderWidth = 1,\n  borderColor = '#ddd',\n  easing = 4,\n  background = 'transparent',\n  blendMode = 'normal'\n} = {}) => {\n  let inited = false\n  const alt = { x: 0, y: 0, o: 1, d: diameter }\n  const cur = { x: 0, y: 0, o: 0, d: diameter }\n  const dot = document.createElement('div')\n  const tim = easing / 15\n  dot.style = `--blend-mode:${blendMode};position:fixed;top:0;left:0;border-radius:100%;pointer-events:none;opacity:0;z-index:${zIndex};height:${diameter}px;width:${diameter}px;background:${background};border:${borderWidth}px solid ${borderColor};mix-blend-mode:var(--blend-mode);transition:background ${tim}s,border ${tim}s;will-change:transform`\n\n  document.addEventListener('mousemove', e => {\n    alt.x = e.clientX\n    alt.y = e.clientY\n    dot.style.opacity = 1\n    if (!inited) {\n      document.body.append(dot)\n      cur.x = alt.x\n      cur.y = alt.y\n      inited = true\n      draw()\n    }\n  })\n\n  const draw = () => {\n    const dX = alt.x - cur.x\n    const dY = alt.y - cur.y\n    cur.x += (dX / easing)\n    cur.y += (dY / easing)\n    const t3d = `translate3d(${cur.x - cur.d / 2}px,${cur.y - cur.d / 2}px,0)`\n    dot.style.webkitTransform = t3d\n    dot.style.transform = t3d\n\n    const dO = alt.o - cur.o\n    cur.o += dO / easing\n    dot.style.opacity = cur.o\n\n    const dD = alt.d - cur.d\n    cur.d += dD / easing\n    dot.style.height = cur.d + 'px'\n    dot.style.width = cur.d + 'px'\n\n    try {\n      requestAnimationFrame(draw)\n    } catch (_) {\n      setImmediate(draw)\n    }\n  }\n\n  dot.over = (any, style) => {\n    const fn = el => {\n      el.addEventListener('mouseover', _ => {\n        if (style.background) dot.style.backgroundColor = style.background\n        if (style.borderColor) dot.style.borderColor = style.borderColor\n        if (style.scale) alt.d = diameter * style.scale\n        if (style.blendMode) dot.style.setProperty('--blend-mode', style.blendMode)\n      })\n      el.addEventListener('mouseout', _ => {\n        if (style.background) dot.style.backgroundColor = background\n        if (style.borderColor) dot.style.borderColor = borderColor\n        if (style.scale) alt.d = diameter\n        if (style.blendMode) dot.style.setProperty('--blend-mode', blendMode)\n      })\n    }\n    if (isEl(any)) fn(any)\n    else if (isStr(any)) $$(any).forEach(fn)\n  }\n\n  return dot\n}\n\nmodule.exports = cursorDot\n","import curDot from '..'\nwindow.curDot = curDot\n"]}