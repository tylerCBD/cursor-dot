{"version":3,"sources":["../index.js","window.curDot.js"],"names":["$$","s","Array","prototype","slice","call","document","querySelectorAll","isEl","obj","HTMLElement","isStr","Object","toString","cursorDot","zIndex","diameter","borderWidth","borderColor","easing","background","blendMode","inited","alt","x","y","o","d","cur","dot","createElement","tim","style","classList","add","addEventListener","e","clientX","clientY","opacity","body","append","draw","dX","dY","t3d","webkitTransform","transform","dO","dD","height","width","requestAnimationFrame","_","setImmediate","over","any","fn","el","backgroundColor","scale","setProperty","forEach","module","exports","window","curDot"],"mappings":"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","file":"window.curDot.min.js","sourceRoot":"","sourcesContent":["const $$ = s =>\n  Array.prototype.slice.call(\n    document.querySelectorAll(s)\n  )\nconst isEl = obj => obj instanceof HTMLElement\nconst isStr = obj => Object.prototype.toString.call(obj) === '[object String]'\n\nconst cursorDot = ({\n  zIndex = 1,\n  diameter = 80,\n  borderWidth = 1,\n  borderColor = '#ddd',\n  easing = 4,\n  background = 'transparent',\n  blendMode = 'normal'\n} = {}) => {\n  let inited = false\n  const alt = { x: 0, y: 0, o: 1, d: diameter }\n  const cur = { x: 0, y: 0, o: 0, d: diameter }\n  const dot = document.createElement('div')\n  const tim = easing / 15\n  dot.style = `--blend-mode:${blendMode};position:fixed;top:0;left:0;border-radius:100%;pointer-events:none;opacity:0;z-index:${zIndex};height:${diameter}px;width:${diameter}px;background:${background};border:${borderWidth}px solid ${borderColor};mix-blend-mode:var(--blend-mode);transition:background ${tim}s,border ${tim}s;will-change:transform`\n  dot.classList.add('dot')\n\n  document.addEventListener('mousemove', e => {\n    alt.x = e.clientX\n    alt.y = e.clientY\n    dot.style.opacity = 1\n    if (!inited) {\n      document.body.append(dot)\n      cur.x = alt.x\n      cur.y = alt.y\n      inited = true\n      draw()\n    }\n  })\n\n  const draw = () => {\n    const dX = alt.x - cur.x\n    const dY = alt.y - cur.y\n    cur.x += (dX / easing)\n    cur.y += (dY / easing)\n    const t3d = `translate3d(${cur.x - cur.d / 2}px,${cur.y - cur.d / 2}px,0)`\n    dot.style.webkitTransform = t3d\n    dot.style.transform = t3d\n\n    const dO = alt.o - cur.o\n    cur.o += dO / easing\n    dot.style.opacity = cur.o\n\n    const dD = alt.d - cur.d\n    cur.d += dD / easing\n    dot.style.height = cur.d + 'px'\n    dot.style.width = cur.d + 'px'\n\n    try {\n      requestAnimationFrame(draw)\n    } catch (_) {\n      setImmediate(draw)\n    }\n  }\n\n  dot.over = (any, style) => {\n    const fn = el => {\n      el.addEventListener('mouseover', _ => {\n        if (style.background) dot.style.backgroundColor = style.background\n        if (style.borderColor) dot.style.borderColor = style.borderColor\n        if (style.scale) alt.d = diameter * style.scale\n        if (style.blendMode) dot.style.setProperty('--blend-mode', style.blendMode)\n      })\n      el.addEventListener('mouseout', _ => {\n        if (style.background) dot.style.backgroundColor = background\n        if (style.borderColor) dot.style.borderColor = borderColor\n        if (style.scale) alt.d = diameter\n        if (style.blendMode) dot.style.setProperty('--blend-mode', blendMode)\n      })\n    }\n    if (isEl(any)) fn(any)\n    else if (isStr(any)) $$(any).forEach(fn)\n  }\n\n  return dot\n}\n\nmodule.exports = cursorDot\n","import curDot from '..'\nwindow.curDot = curDot\n"]}